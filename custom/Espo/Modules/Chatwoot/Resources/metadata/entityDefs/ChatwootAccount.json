{
    "fields": {
        "name": {
            "type": "varchar",
            "required": true,
            "maxLength": 255
        },
        "platform": {
            "type": "link",
            "required": true
        },
        "chatwootAccountId": {
            "type": "int",
            "readOnly": true,
            "tooltip": true
        },
        "apiKey": {
            "type": "password",
            "tooltip": true,
            "required": false
        },
        "automationUserId": {
            "type": "int",
            "readOnly": true,
            "tooltip": true
        },
        "automationUserEmail": {
            "type": "varchar",
            "readOnly": true,
            "tooltip": true
        },
        "locale": {
            "type": "enum",
            "options": ["pt_BR", "en", "es", "fr", "de", "it"],
            "default": "pt_BR"
        },
        "domain": {
            "type": "varchar",
            "maxLength": 255
        },
        "supportEmail": {
            "type": "email"
        },
        "status": {
            "type": "enum",
            "options": ["active", "suspended"],
            "default": "active"
        },
        "contactSyncEnabled": {
            "type": "bool",
            "default": true,
            "tooltip": true
        },
        "lastContactSyncAt": {
            "type": "datetime",
            "readOnly": true,
            "tooltip": true
        },
        "lastConversationSyncAt": {
            "type": "datetime",
            "readOnly": true,
            "tooltip": true
        },
        "contactSyncCursor": {
            "type": "int",
            "readOnly": true,
            "tooltip": true
        },
        "conversationSyncCursor": {
            "type": "int",
            "readOnly": true,
            "tooltip": true
        },
        "createdAt": {
            "type": "datetime",
            "readOnly": true
        },
        "modifiedAt": {
            "type": "datetime",
            "readOnly": true
        },
        "createdBy": {
            "type": "link",
            "readOnly": true,
            "view": "views/fields/user"
        },
        "modifiedBy": {
            "type": "link",
            "readOnly": true,
            "view": "views/fields/user"
        },
        "teams": {
            "type": "linkMultiple",
            "view": "views/fields/teams"
        }
    },
    "links": {
        "platform": {
            "type": "belongsTo",
            "entity": "ChatwootPlatform",
            "foreign": "accounts"
        },
        "users": {
            "type": "hasMany",
            "entity": "ChatwootUser",
            "foreign": "account"
        },
        "chatwootTeams": {
            "type": "hasMany",
            "entity": "ChatwootTeam",
            "foreign": "account"
        },
        "contacts": {
            "type": "hasMany",
            "entity": "ChatwootContact",
            "foreign": "chatwootAccount"
        },
        "createdBy": {
            "type": "belongsTo",
            "entity": "User"
        },
        "modifiedBy": {
            "type": "belongsTo",
            "entity": "User"
        },
        "teams": {
            "type": "hasMany",
            "entity": "Team",
            "relationName": "entityTeam",
            "layoutRelationshipsDisabled": true
        },
        "syncStates": {
            "type": "hasMany",
            "entity": "ChatwootSyncState",
            "foreign": "chatwootAccount"
        },
        "inboxes": {
            "type": "hasMany",
            "entity": "ChatwootInbox",
            "foreign": "chatwootAccount"
        },
        "communicationChannels": {
            "type": "hasMany",
            "entity": "CommunicationChannel",
            "foreign": "chatwootAccount"
        }
    },
    "collection": {
        "orderBy": "createdAt",
        "order": "desc"
    },
    "indexes": {
        "name": {
            "columns": ["name", "deleted"]
        },
        "assignedUser": {
            "columns": ["deleted"]
        },
        "createdAt": {
            "columns": ["createdAt"]
        },
        "createdAtId": {
            "unique": true,
            "columns": ["createdAt", "id"]
        }
    },
    "webhooks": {
        "type": "hasMany",
        "entity": "ChatwootAccountWebhook",
        "foreign": "account"
    }
}

